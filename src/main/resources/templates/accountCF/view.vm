#if ($value)
    #if ($value.size() > 0)
        #if ($!issue)
            ## issue exists so the value is a transport of string values,
            ## not a transport object of the singular objects. We want more than just
            ## strings so access the transport object directly from the customfield

            #set ($carriers = $customField.getValue($issue))
        #else
            ## issue does not exist because we are displaying a default value
            ## and so value is a Collection of Carrier objects.

            #set ($carriers = $value)
        #end
        <table>

            <tr>
                <td>
                    Полная сумма счета
                </td>
                <td>
                    $carriers.get(0).getStringFullAmount()
                </td>
            </tr>

            <tr>
                <td align="center">
                    Дата
                </td>
                <td align="center">
                    Проценты
                </td>
                <td align="center">
                    Сумма
                </td>
                <td align="center">
                    Дата реальной оплаты
                </td>
                <td align="center">
                    Pеальная сумма оплаты
                </td>
            </tr>
            #set($i = 0)
            #foreach ($carrier in $carriers)
                #if($i > 0)
                    <tr>
                        <td align="center">
                            $carrier.getStringDate()
                        </td>
                        <td align="center" >
                            #set($percent = $!carrier.getAmount() / $!carriers.get(0).getFullAmount() * 100)
                            $number.format($percent)
                        </td>
                        <td align="center">
                            $number.format("currency", $!carrier.Amount())
                        </td>
                        <td align = "center">
                            $number.format("currency", $!carrier.Amount())!carrier.getStringDatePost()
                        </td>
                        <td align = "center">
                            $!carrier.getStringAmountPost()
                        </td>
                    </tr>
                #end
                #set($i = ($i + 1))
            #end

        </table>
    #end
#end
